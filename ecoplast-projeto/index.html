<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <!-- Meta tags para configuração básica -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecoplast - Gerenciamento de Clientes</title>

    <!-- Bootstrap CSS via CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

    <!-- CSS personalizado -->
    <link rel="stylesheet" href="public/css/style.css">

    <!-- Favicon -->
    <link rel="icon" href="public/images/favicon.ico" type="image/x-icon">
</head>

<body class="bg-light">
    <!-- Container principal com padding responsivo -->
    <div class="container py-4">
        <!-- Cabeçalho com destaque -->
        <header class="my-4 text-center">
            <div class="p-4 bg-primary text-white rounded-3 shadow">
                <h1 class="display-5 fw-bold">Ecoplast Indústria de Embalagens</h1>
                <p class="lead mb-0">"Embalando o futuro com responsabilidade"</p>
            </div>
        </header>

        <!-- Card principal com sombra -->
        <div class="card shadow-lg">
            <!-- Cabeçalho do card com gradiente -->
            <div
                class="card-header bg-gradient bg-primary text-white d-flex justify-content-between align-items-center">
                <h2 class="h4 mb-0">
                    <i class="bi bi-people-fill me-2"></i>Gerenciamento de Clientes
                </h2>
                <button id="btnNovoCliente" class="btn btn-light">
                    <i class="bi bi-plus-lg me-1"></i>Novo Cliente
                </button>
            </div>

            <!-- Corpo do card -->
            <div class="card-body">
                <!-- Container para alertas/mensagens -->
                <div id="alertContainer" class="mb-3"></div>

                <!-- Formulário (inicialmente oculto) -->
                <div id="formContainer" class="mb-4" style="display: none;">
                    <form id="clienteForm" novalidate class="needs-validation">
                        <input type="hidden" id="clienteId">

                        <!-- Primeira linha do formulário -->
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="nome" class="form-label">Nome Completo</label>
                                <div class="input-group has-validation">
                                    <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
                                    <input type="text" class="form-control" id="nome" required>
                                    <div class="invalid-feedback">Por favor, insira um nome válido (mínimo 3 caracteres)
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <label for="email" class="form-label">E-mail</label>
                                <div class="input-group has-validation">
                                    <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
                                    <input type="email" class="form-control" id="email" required>
                                    <div class="invalid-feedback">Por favor, insira um e-mail válido</div>
                                </div>
                            </div>
                        </div>

                        <!-- Segunda linha do formulário -->
                        <div class="row g-3 mt-2">
                            <div class="col-md-6">
                                <label for="telefone" class="form-label">Telefone</label>
                                <div class="input-group has-validation">
                                    <span class="input-group-text"><i class="bi bi-telephone-fill"></i></span>
                                    <input type="tel" class="form-control" id="telefone" required>
                                    <div class="invalid-feedback">Por favor, insira um telefone válido com DDD</div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <label for="status" class="form-label">Status</label>
                                <select class="form-select" id="status">
                                    <option value="ativo">Ativo</option>
                                    <option value="inativo">Inativo</option>
                                </select>
                            </div>
                        </div>

                        <!-- Terceira linha do formulário -->
                        <div class="mt-3">
                            <label for="endereco" class="form-label">Endereço</label>
                            <div class="input-group has-validation">
                                <span class="input-group-text"><i class="bi bi-geo-alt-fill"></i></span>
                                <input type="text" class="form-control" id="endereco" required>
                                <div class="invalid-feedback">Por favor, insira um endereço</div>
                            </div>
                        </div>

                        <!-- Quarta linha do formulário -->
                        <div class="row g-3 mt-2">
                            <div class="col-md-6">
                                <label for="cidade" class="form-label">Cidade</label>
                                <div class="input-group has-validation">
                                    <span class="input-group-text"><i class="bi bi-building"></i></span>
                                    <input type="text" class="form-control" id="cidade" required>
                                    <div class="invalid-feedback">Por favor, insira uma cidade</div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <label for="estado" class="form-label">Estado</label>
                                <select class="form-select" id="estado" required>
                                    <option value="">Selecione...</option>
                                    <!-- Todos os estados brasileiros -->
                                    <option value="AC">Acre</option>
                                    <option value="AL">Alagoas</option>
                                    <!-- ... -->
                                    <option value="MG" selected>Minas Gerais</option>
                                    <!-- ... -->
                                    <option value="SP">São Paulo</option>
                                </select>
                                <div class="invalid-feedback">Por favor, selecione um estado</div>
                            </div>

                            <div class="col-md-2">
                                <label for="cep" class="form-label">CEP</label>
                                <div class="input-group has-validation">
                                    <span class="input-group-text"><i class="bi bi-postcard-fill"></i></span>
                                    <input type="text" class="form-control" id="cep">
                                    <div class="invalid-feedback">CEP inválido (formato: XXXXX-XXX)</div>
                                </div>
                            </div>
                        </div>

                        <!-- Botões do formulário -->
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                            <button type="button" id="btnCancelar" class="btn btn-outline-secondary me-md-2">
                                <i class="bi bi-x-lg me-1"></i>Cancelar
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-save-fill me-1"></i>Salvar
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Tabela de clientes com hover e bordas -->
                <div class="table-responsive">
                    <table class="table table-hover table-bordered align-middle">
                        <thead class="table-primary">
                            <tr>
                                <th class="text-center">ID</th>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Telefone</th>
                                <th>Cidade/UF</th>
                                <th class="text-center">Status</th>
                                <th class="text-center">Ações</th>
                            </tr>
                        </thead>
                        <tbody id="clientesTableBody" class="table-group-divider">
                            <!-- Dados serão carregados via JavaScript -->
                            <tr>
                                <td colspan="7" class="text-center text-muted py-4">
                                    <i class="bi bi-arrow-clockwise"></i> Carregando clientes...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Paginação (opcional) -->
                <nav aria-label="Navegação de páginas">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1">Anterior</a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">Próxima</a>
                        </li>
                    </ul>
                </nav>
            </div>

            <!-- Rodapé do card -->
            <div class="card-footer text-muted text-center small">
                Última atualização: <span id="ultimaAtualizacao">--/--/---- --:--:--</span>
            </div>
        </div>
    </div>

    <!-- Modal de confirmação com animação -->
    <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="confirmModalLabel">
                        <i class="bi bi-exclamation-triangle-fill me-2"></i>Confirmar Exclusão
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Tem certeza que deseja excluir este cliente? Esta ação não pode ser desfeita.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-lg me-1"></i>Cancelar
                    </button>
                    <button type="button" id="btnConfirmarExclusao" class="btn btn-danger">
                        <i class="bi bi-trash-fill me-1"></i>Excluir
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle com Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Scripts personalizados -->
    <script src="public/js/validation.js"></script>
    <script src="public/js/api.js"></script>

    <!-- Script para atualizar data/hora no rodapé -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const now = new Date();
            document.getElementById('ultimaAtualizacao').textContent =
                now.toLocaleDateString() + ' ' + now.toLocaleTimeString();
        });
    </script>
</body>

</html>